<apex:page id="page1" tabstyle="pse__Proj__c" standardController="ChangeManager__c" extensions="ECO_ChangeManagerDetailController" action="{!init}">

    <apex:includeScript value="{!$Resource.ECO_jQuery_1_11_2_min_js}"/>
    <apex:includeScript value="{!URLFOR($Resource.ECO_jQueryUI_1_11_2, 'jquery-ui.min.js')}" />
    <style>
.table {
  font-family: 'Arial';
  margin: 25px auto;
  border-collapse: collapse;
  border: 1px solid #eee;
  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1), 0px 10px 20px rgba(0, 0, 0, 0.05), 0px 20px 20px rgba(0, 0, 0, 0.05), 0px 30px 20px rgba(0, 0, 0, 0.05);
  width: 100%
}

.table tr{
  border-bottom: 1px solid #f2f3f3;
}

.table tr:hover {
  background: #e8f4f8;
}

.table tr:hover td {
    background: #e8f4f8;
}

.table th, .table td {
  border: 0px solid #eee;
  padding: 8px 2px 8px 5px;
  border-collapse: collapse;
}

.table td {
  background: #fff;
}

.table th {

  background:  #f2f3f3;
  font-size: .9em;
  font-weight: bold;  
  border: 1px solid #D3D3D3;
}

.table th.last {
  border-right: none;
}    
    
    
        .changeManagerTable
        {
            border-collapse: collapse;
            border: 1px solid #e8e8e8;
        }
        .changeManagerTable tr{
            border-bottom: 1px solid #e8e8e8;
        }                   
        
        .changeManagerTable td{
            padding: 10px 10px 10px 10px;
        }
        
        .changeManagerTable tr:hover {
            background: #e8f4f8;
        }

        .changeManagerTable tr:hover td {
            background: #e8f4f8;
        }       
        
        .halfWidthWrapper {
            width:25%;
            display:inline-block;
            float:left;
            padding-left: 20px;
        }
        
        #notifications{
            margin-left:25%;
            padding-left:20px;
        }
                
        .dmeOutput{  
            font-size: 1.0em;
            font-weight: bold; 
            color: #4a4a56;  /*Standrd Salesforce Color*/
        }               
        
        .customHelpText{
            padding: 7px;
            border: 1px solid #85B3CE;
            min-height: 30px;
            display: block;
            width: auto;
            margin: 0 0 5px 0;
            background-repeat: no-repeat;
            border-radius: 4px;
            background-color: #A2D3F1;
            
        }
        .customHelpBody{
            display:inline-block;
            color:#;
            max-width:95%;
        }     
    </style>

    <script>
    var j$ = jQuery.noConflict(); 
    j$(document).ready(function() {
        doMessageQueuePolling();
    });

    function doMessageQueuePolling(){   

        //checkIfSyncHasBeenProcessed_JS();
        if(pollMessageQueue == "true"){

            var timerVal = document.getElementById('pollingTimer').innerHTML;               
            var seconds = parseInt(timerVal);
         
            if (seconds == 1) {
                temp = document.getElementById('pollingTimer');
                temp.innerHTML = "checking if processed";
                checkIfSyncHasBeenProcessed_JS();
                return;
            }
     
            seconds--;
            temp = document.getElementById('pollingTimer');
            temp.innerHTML = seconds;
            var timeoutFunction = setTimeout(doMessageQueuePolling, 1000);
        }
        refreshChangeManager_JS();              
    }


    function closeAuthenticationModal(){
        closeModal('modalDialogOracleLogin');
        closeAuthenticationWindow();
        return false;
    }

    function cancelModal()
    {
        closeModal('modalDialogOracleLogin');  
    }

    function authenticate()
    {
        authenticateCredentials($x('[id$=username]').val(), $x('[id$=password]').val());
    }
    </script>

    <apex:form id="frm" >

     <apex:actionFunction action="{!checkIfSyncHasBeenProcessed}" name="checkIfSyncHasBeenProcessed_JS" reRender="pb1,pb2,msgPollingTop,msgPollingBottom,executionApproval2,executionApproval" oncomplete="doMessageQueuePolling();"/>

     <apex:actionFunction name="refreshChangeManager_JS" action="{!RefreshChangeManager}" reRender="executionApproval2,executionApproval,pb1"/>

    <apex:pageMessage detail="Your Oracle Login has expired.  If you are an Approver of the Approval Process you are required to login to Oracle. Please click the Login to Oracle button and enter your Oracle credentials." severity="warning" strength="2" title="Expired Oracle Login" rendered="{!NOT(changeManager.Is_Oracle_Token_Valid__c) && projectSynchMessages == '' && (changeManager.OracleApprovalSyncStatus__c == 'Submitted' || changeManager.OracleApprovalSyncStatus__c == 'Submitted') && changeManager.IsExecutionApprovalChange__c}"/>

    <apex:pageMessage detail="Your Oracle Login has expired.  If you an Approver of the Approval Process  you are required to login to Oracle. Please click the Login to Oracle button and enter your Oracle credentials." severity="warning" strength="2" title="Expired Oracle Login" rendered="{!NOT(changeManager.Is_Oracle_Token_Valid__c) && (changeManager.OracleApprovalSyncStatus__c == 'Submitted' || changeManager.OracleApprovalSyncStatus__c == 'Failed') && 
                (changeManager.IntExtKeyMembers__c || changeManager.IntExtProjectTasks__c || changeManager.IntExtCustomers__c || changeManager.IntExtProjectClosure__c || changeManager.IntExtProjectOnHold__c || changeManager.IntExtClassifications__c) && NOT(changeManager.IsExecutionApprovalChange__c)}"/>


    <apex:pageMessages rendered="{!changeManager.ApprovalStatus__c != null && changeManager.IsExecutionApprovalChange__c}"/>
    <apex:pageMessages rendered="{!NOT(changeManager.IsExecutionApprovalChange__c) && changeManager.ApprovalStatus__c != null}"/>

    <!--<apex:pageMessages />-->

    <apex:outputPanel id="msgPollingTop" >
        <script type="text/javascript">
            var pollMessageQueue = "{!pollMessageQueue}";
        </script>
        <div style="display:{!if(showPollingMsg==true, 'block', 'none')}">
            <apex:pageMessage escape="false" summary="{!pollingMessageQueueMsg}" severity="INFO" ></apex:pageMessage>
        </div>
    </apex:outputPanel>


    <apex:inputHidden value="{!changeManager.IsApproved__c}"/>
    <apex:inputHidden value="{!ChangeManager__c.OracleApprovalSyncStatus__c}"/>
    <!--<apex:inputHidden value="{!changeManager.RecordType.Name}"/>-->
    
    <apex:sectionHeader title="Change Request" subtitle="{!project.Name + "(" + project.EcoSystemReferenceNumber__c + ")"}"/>
        <apex:outputPanel id="IntExt" rendered="{!NOT(changeManager.IsPMHandoverChange__c) && NOT(changeManager.IsExecutionApprovalChange__c)}">
        <apex:variable value="{!ChangedProjectClosure}"  var="projectClosure" /> 
        <apex:pageBlock mode="edit" title="{!changeManager.RecordType.Name & ' Edit'}" id="pb2">
            <apex:pageBlockButtons id="pbButtonsIntExt">
                <apex:commandButton value="Edit" action="{!editChangeManager}" rendered="{!NOT(changeManager.IsApproved__c) && mode == ''}" />
                
                <apex:commandButton value="Save" action="{!saveChangeManager}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" reRender="changes,pbButtonsIntExt" />
                <apex:commandButton value="Cancel" action="{!cancelChangeManager}" rendered="{!(changeManager.ApprovalStatus__c == '' || changeManager.ApprovalStatus__c == null) && (mode == '')}" />

                <apex:commandButton value="Return to Change Manager" action="{!returnToChangeManager}" rendered="{!mode != ''}" />
                <apex:commandButton value="Return to Project" action="{!returnToProject}" rendered="{!mode == ''}" />
                <apex:commandButton value="Return to Project Changes" action="{!returnToProjectChanges}" rendered="{!mode == ''}" />
                <apex:commandButton value="Login to Oracle" onclick="openModal('modalDialogOracleLogin');return false;" rendered="{!NOT(changeManager.Is_Oracle_Token_Valid__c) && (changeManager.OracleApprovalSyncStatus__c == 'Submitted' || changeManager.OracleApprovalSyncStatus__c == 'Failed') && 
                (changeManager.IntExtKeyMembers__c || changeManager.IntExtProjectTasks__c || changeManager.IntExtCustomers__c || changeManager.IntExtProjectClosure__c || changeManager.IntExtClassifications__c || changeManager.IntExtProjectOnHold__c)}"/>
                 <apex:commandButton value="Submit for Approval" action="{!SubmitForApproval}" id="Submit_for_Approval" rendered="{!(changeManager.ApprovalStatus__c == null || changeManager.ApprovalStatus__c == '' || changeManager.ApprovalStatus__c == 'Rejected') && projectSynchMessages == '' && mode == ''}"/>
                 <apex:commandButton value="Synchronize Project" rendered="{!changeManager.OracleApprovalSyncStatus__c == 'Failed' && changeManager.Is_Oracle_Token_Valid__c}" action="{!SynchronizeProject}" />
            </apex:pageBlockButtons>
            <div class="customHelpText">
                <div class="customHelpBody">
                The status indicators against each Project Plan element listed on the left hand side indidcates if there are changes to that plan element which require approval.  For each change to be documented in this change order, select the element to see details of what changed and provide commentary to document and support the change.
                <br /> Once all changes are documented,             
                </div>
            </div>            
            <div class="halfWidthWrapper">       
            <apex:pageBlockSection columns="1">
  <!--              <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtProject__c)}">                    
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedProject != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedProject == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtProject__c}" rendered="{!changeManager.IsApproved__c}" /> 
                    <apex:inputField value="{!changeManager.IntExtProject__c}" rendered="{!NOT(changeManager.IsApproved__c)}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>
                    <apex:outputLabel value="Project" styleclass="dmeOutput"/>
                </apex:outputPanel> -->
       <apex:outputPanel >     
            <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c)}">
            <apex:outputLabel styleclass="dmeOutput" value="Change Legend"/>
            <table class="changeManagerTable">
                <tr><td><apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}"/><apex:outputLabel styleclass="dmeOutput" value=" No Unapproved Changes"/></td></tr>
                <tr><td><apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}"/><apex:outputLabel styleclass="dmeOutput" value="Changes Needing Approval"/></td></tr>
            </table>
            </apex:outputPanel>    
        <apex:outputPanel rendered="{!changeManager.IsApproved__c}">
            <apex:outputLabel styleclass="dmeOutput" value="Approved Changes"/>
        </apex:outputPanel>         
        <br/>
        <table class="changeManagerTable">
        <apex:actionStatus id="refreshingStatus">
            <apex:facet name="start">
                <p style="padding-bottom:20px;text-align:center;" class="searchText"><img style="position:relative;top:24px;" src="/img/loading32.gif" /> Refreshing...</p>
            </apex:facet>
        </apex:actionStatus>
            <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtProjectTasks__c)}">                   
            <tr ><td>
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedTasks != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedTasks == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtProjectTasks__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />         
                    <apex:inputField value="{!changeManager.IntExtProjectTasks__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>
                    <apex:outputLabel value="Schedule/WBS" styleclass="dmeOutput"/>         
            </td></tr>
            </apex:outputPanel> 
            <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtKeyMembers__c)}">                     

            <tr ><td>                          
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedKeyMembers != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedKeyMembers == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtKeyMembers__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtKeyMembers__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="detailKeyMembers" />
                    </apex:inputField>
                    <apex:outputLabel value="Project Team" styleclass="dmeOutput"/>             
            </td></tr>
            </apex:outputPanel>
            <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtCustomers__c)}">                      
            <tr><td>    
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedCustomers != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedCustomers == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtCustomers__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtCustomers__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>
                    <apex:outputLabel value="Customers" styleclass="dmeOutput"/>

               </td></tr>
               </apex:outputPanel>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtClassifications__c)}">                        
               <tr><td nowrap="nowrap">          
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedClassifications != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedClassifications == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtClassifications__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtClassifications__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>
                    <apex:outputLabel value="Project Classifications" styleclass="dmeOutput"/>
               </td></tr>
               </apex:outputPanel>  
               <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtSafetyHealthEnv__c)}">                     
               <tr><td nowrap="nowrap">               
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedSafetyHealthEnv != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedSafetyHealthEnv == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtSafetyHealthEnv__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtSafetyHealthEnv__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>
                    <apex:outputLabel value="Safety, Health & Environment" styleclass="dmeOutput"/>            
                </td></tr>
                </apex:outputPanel> 
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtContractManagement__c)}">                     
                <tr><td nowrap="nowrap">           
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!(ChangedAgreements != null || ChangedContractManagementFunding != null) && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!(ChangedAgreements == null && ChangedContractManagementFunding == null) && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtContractManagement__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtContractManagement__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>
                    <apex:outputLabel value="Agreements and Funding" styleclass="dmeOutput"/>
                </td></tr>
               </apex:outputPanel>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtScope__c)}" >
                <tr><td nowrap="nowrap">
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedScope != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedScope == null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtScope__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtScope__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>
                    <apex:outputLabel value="Scope and Packages" styleclass="dmeOutput"/>   
                </td></tr>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtBudget__c)}">             
                <tr><td>            
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!changeManager.IntExtBudget__c && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!NOT(changeManager.IntExtBudget__c) && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtBudget__c}" />
                    <apex:outputLabel value="Budget" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>                    
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtResources__c)}">
                <tr><td>
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedResources != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedResources == null && NOT(changeManager.IsApproved__c)}" />     
                    <apex:outputField value="{!changeManager.IntExtResources__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />         
                    <apex:inputField value="{!changeManager.IntExtResources__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>
                    <apex:outputLabel value="Subs and Vendors" styleclass="dmeOutput"/>
                 </td></tr>
                </apex:outputPanel>  

                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtDeliverables__c)}">
                 <tr><td>                             
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedDeliverables != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedDeliverables == null && NOT(changeManager.IsApproved__c)}" />     
                    <apex:outputField value="{!changeManager.IntExtDeliverables__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />  
                    <apex:inputField value="{!changeManager.IntExtDeliverables__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>                   
                    <apex:outputLabel value="Deliverables" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtDocumentManagement__c)}">             
                <tr><td>
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedDocumentManagement != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedDocumentManagement == null && NOT(changeManager.IsApproved__c)}" />     
                    <apex:outputField value="{!changeManager.IntExtDocumentManagement__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtDocumentManagement__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>                   
                    <apex:outputLabel value="Document Management" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>

                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtStakeholdersComm__c)}">  
                <tr><td nowrap="nowrap">
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedStakeholders != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedStakeholders == null && NOT(changeManager.IsApproved__c)}" />                                  
                    <apex:outputField value="{!changeManager.IntExtStakeholdersComm__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" /> 
                    <apex:inputField value="{!changeManager.IntExtStakeholdersComm__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>      
                    </apex:inputField>
                    <apex:outputLabel value="Stakeholder & Communications" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtRiskManagement__c)}" >     

                <tr><td>
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedRiskManagement != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedRiskManagement == null && NOT(changeManager.IsApproved__c)}" />                                
                    <apex:outputField value="{!changeManager.IntExtRiskManagement__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />            
                    <apex:inputField value="{!changeManager.IntExtRiskManagement__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes"/>
                    </apex:inputField>                   
                    <apex:outputLabel value="Risk Register" styleclass="dmeOutput"/>
               </td></tr>                             
                </apex:outputPanel>      
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtSecurity__c)}" >                           
                <tr><td>         
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedResilience != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedResilience == null && NOT(changeManager.IsApproved__c)}" />                            
                    <apex:outputField value="{!changeManager.IntExtSecurity__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />            
                    <apex:inputField value="{!changeManager.IntExtSecurity__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>                   
                    <apex:outputLabel value="Resilience" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>

<!--                <tr><td>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtProjectReview__c)}">                    
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!ChangedProjectReviews != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!ChangedProjectReviews == null && NOT(changeManager.IsApproved__c)}" />                                
                    <apex:outputField value="{!changeManager.IntExtProjectReview__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />
                    <apex:inputField value="{!changeManager.IntExtProjectReview__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>                   
                    <apex:outputLabel value="Project Review Category" styleclass="dmeOutput"/>
                </apex:outputPanel>
                </td></tr>
 -->
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && (changeManager.IntExtProjectClosure__c || changeManager.IntExtProjectOnHold__c))}">                    
                <tr><td>
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!(changeManager.IntExtProjectClosure__c || changeManager.IntExtProjectOnHold__c)  && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!(NOT(changeManager.IntExtProjectClosure__c) && NOT(changeManager.IntExtProjectOnHold__c)) && NOT(changeManager.IsApproved__c)}" />                                
                    <apex:outputField value="{!changeManager.IntExtProjectClosure__c}" rendered="{!changeManager.IntExtProjectClosure__c || NOT(changeManager.IntExtProjectOnHold__c)}" />
                    <apex:outputField value="{!changeManager.IntExtProjectOnHold__c}" rendered="{!changeManager.IntExtProjectOnHold__c}" />
                    <apex:outputLabel value="Project Status" styleclass="dmeOutput"/>
                </td></tr>
                </apex:outputPanel>

<!--                <tr><td>
                <apex:outputPanel rendered="{!NOT(changeManager.IsApproved__c) || (changeManager.IsApproved__c && changeManager.IntExtProjectOnHold__c)}">                    
                    <apex:outputField value="{!changeManager.IntExtChangeManagementChanges__c}" rendered="{!projectOnHold != null && NOT(changeManager.IsApproved__c)}" /> 
                    <apex:outputField value="{!changeManager.IntExtChangeManagementNoChanges__c}" rendered="{!projectOnHold == null && NOT(changeManager.IsApproved__c)}" />                                
                    <apex:outputField value="{!changeManager.IntExtProjectOnHold__c}" rendered="{!changeManager.IsApproved__c || mode == ''}" />
                    <apex:inputField value="{!changeManager.IntExtProjectOnHold__c}" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}">
                        <apex:actionSupport event="onchange" rerender="changes" />
                    </apex:inputField>                   
                    <apex:outputLabel value="Project On Hold" styleclass="dmeOutput"/>
                </apex:outputPanel>
                </td></tr> -->
        </table>
        </apex:outputPanel>
            </apex:pageBlockSection>
    </div>
        
    <div id="notifications">
            <apex:pageBlockSection id="intExtDetails" title="Details" collapsible="false" rendered="{!changeManager.IntExtKeyMembers__c || changeManager.IntExtProjectTasks__c || changeManager.IntExtCustomers__c|| changeManager.IntExtClassifications__c || changeManager.IntExtProjectClosure__c}">
                <apex:outputField value="{!changeManager.Project__c}"/>
                <apex:outputField value="{!changeManager.ProjectNumber__c}"/>
                <apex:pageBlockSectionItem >
                    <apex:outputText value="Change Type"/>
                    <apex:outputField value="{!changeManager.RecordType.Name}"/>
                </apex:pageBlockSectionItem>
                <apex:outputField value="{!changeManager.ApprovalStatus__c}"/>  

                <apex:outputField value="{!changeManager.ProjectApprover__c}" />

                <apex:outputField value="{!changeManager.OracleApprovalSyncStatus__c}"/> 

                 <apex:outputField value="{!changeManager.ProjectAccountantApprover__c}" />

                <apex:pageBlockSectionItem >
                        <apex:outputText value="Contributing Factor"/>
                        <apex:outputPanel >
                            <apex:inputField value="{!changeManager.ContributingFactor__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                            <apex:outputField value="{!changeManager.ContributingFactor__c}" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                        </apex:outputPanel>
                </apex:pageBlockSectionItem>

               <apex:outputField value="{!changeManager.FinanceApprover__c}" />
                
                <apex:pageBlockSectionItem >
                    <apex:outputText value="Contributing Factor Details"/>    
                    <apex:outputPanel >    
                        <apex:inputField value="{!changeManager.ContribFactorDetails__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                        <apex:outputField value="{!changeManager.ContribFactorDetails__c}" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>

                <apex:outputPanel />              
                
            </apex:pageBlockSection> 

            <apex:pageBlockSection title="Details" collapsible="false" rendered="{!NOT(changeManager.IntExtKeyMembers__c) &&  NOT(changeManager.IntExtProjectTasks__c) && NOT(changeManager.IntExtCustomers__c) && NOT(changeManager.IntExtClassifications__c) && NOT(changeManager.IntExtProjectClosure__c)}">
                <apex:outputField value="{!changeManager.Project__c}"/>
                <apex:outputField value="{!changeManager.ProjectNumber__c}"/>
                <apex:pageBlockSectionItem >
                    <apex:outputText value="Change Type"/>
                    <apex:outputField value="{!changeManager.RecordType.Name}"/>
                </apex:pageBlockSectionItem>
                <apex:outputField value="{!changeManager.ApprovalStatus__c}"/>  

                <apex:outputField value="{!changeManager.ProjectApprover__c}" />

                <!--<apex:outputField value="{!changeManager.OracleApprovalSyncStatus__c}"/> -->
                <apex:pageBlockSectionItem >
                        <apex:outputText value="Contributing Factor"/>
                        <apex:outputPanel >
                            <apex:inputField value="{!changeManager.ContributingFactor__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                            <apex:outputField value="{!changeManager.ContributingFactor__c}" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                        </apex:outputPanel>
                </apex:pageBlockSectionItem>

                 <apex:outputField value="{!changeManager.ProjectAccountantApprover__c}" />

                <apex:pageBlockSectionItem >
                    <apex:outputText value="Contributing Factor Details"/>    
                    <apex:outputPanel >    
                        <apex:inputField value="{!changeManager.ContribFactorDetails__c}" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                        <apex:outputField value="{!changeManager.ContribFactorDetails__c}" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>

               <apex:outputField value="{!changeManager.FinanceApprover__c}" />
            
                <apex:outputPanel />              
                
            </apex:pageBlockSection>    
    
        <apex:pageBlockSection columns="1">
                                                                
        </apex:pageBlockSection>

        <apex:pageBlockSection title="Project Synch " collapsible="false" columns="1">  
                <apex:outputText style="color: red; font-weight: bold;" escape="false" value="{!projectSynchMessages}" rendered="{!projectSynchMessages != ''}"/>
                <apex:outputText value="No Project Synch Issues Found" rendered="{!projectSynchMessages == ''}"/>   
                
                <apex:outputPanel rendered="{!invalidTasks.size > 0}">
                    <br/>
                    <apex:outputLabel value="Tasks" styleclass="dmeOutput" />          
                    <apex:pageBlockTable value="{!invalidTasks}" var="task">
                        <apex:column headervalue="Task"><apex:outputText value="{!task.RecordName}"/></apex:column>
                        <apex:column headervalue="Validation Errors"><apex:outputText value="{!task.validationErrorMessage}"/></apex:column>
                    </apex:pageBlockTable>
                 </apex:outputPanel>
                                
                <apex:outputPanel rendered="{!invalidCustomers.size > 0}">
                    <br/>
                    <apex:outputLabel value="Customers" styleclass="dmeOutput" />
                    <apex:pageBlockTable value="{!invalidCustomers}" var="customer">
                       <apex:column headervalue="Customer"><apex:outputText value="{!customer.RecordName}"/></apex:column>
                       <apex:column headervalue="Validation Errors"><apex:outputText value="{!customer.validationErrorMessage}"/></apex:column>
                    </apex:pageBlockTable>
                </apex:outputPanel>
                

                <apex:outputPanel rendered="{!invalidKeyMembers.size > 0}">
                    <br/>   
                    <apex:outputLabel value="Key Members" styleclass="dmeOutput" />         
                    <apex:pageBlockTable value="{!invalidKeyMembers}" var="keyMember">
                       <apex:column headervalue="Key Member"><apex:outputText value="{!keyMember.RecordName}"/></apex:column>
                       <apex:column headervalue="Validation Errors"><apex:outputText value="{!keyMember.validationErrorMessage}"/></apex:column>
                    </apex:pageBlockTable>  
                </apex:outputPanel>         

        </apex:pageBlockSection>  


        <br/>
            <!-- <apex:pageBlockSection title="Project Contract Change Requirements" collapsible="false" columns="1" rendered="{!changeManager.Project__r.ChangeManagerAECOMRequirements__c != null || changeManager.Project__r.ChangeManagerClientsRequirements__c != null}"> -->
<!--            <apex:pageBlockSection title="Project Contract Change Requirements" collapsible="false" columns="1"> 
                <apex:outputPanel >
                    <apex:outputLabel value="AECOM Requirements" styleClass="dmeOutput"/><br/>          
                    <apex:inputField value="{!changeManager.Project__r.ChangeManagerAECOMRequirements__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                    <apex:outputField value="{!changeManager.Project__r.ChangeManagerAECOMRequirements__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
                <br/>
                <apex:outputPanel >
                <apex:outputLabel value="Clients Requirements" styleClass="dmeOutput"/><br/>
                    <apex:inputField value="{!changeManager.Project__r.ChangeManagerClientsRequirements__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}"/>
                    <apex:outputField value="{!changeManager.Project__r.ChangeManagerClientsRequirements__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>         -->
        <apex:outputPanel id="changes">
<!--            <apex:pageBlockSection title="Project" collapsible="false" columns="1" rendered="{!changeManager.IntExtProject__c}">  
                <apex:pageBlockTable value="{!ChangedProject}" var="project" rendered="{!ChangedProject != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.pse__Proj__c.View, project.Id)}"><apex:outputField value="{!project.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!project.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!project.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>    
                <apex:outputLabel value="Project Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtProjectComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)}" required="{!changeManager.IntExtProject__c}"/>
                    <apex:outputField value="{!changeManager.IntExtProjectComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c}"/>
                </apex:outputPanel>
            </apex:pageBlockSection> -->
            
            <apex:pageBlockSection title="Schedule/WBS" collapsible="false" rendered="{!changeManager.IntExtProjectTasks__c}" columns="1">  
                <apex:pageBlockTable value="{!ChangedTasks}" var="task" rendered="{!ChangedTasks != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!task.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(task.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Task Number"><apex:outputlink value="{!URLFOR($Action.pse__Project_Task__c.View, task.Id)}"><apex:outputField value="{!task.ProjectTaskNumber__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Task Name"><apex:outputField value="{!task.Name}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!task.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!task.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
                <apex:outputLabel value="Schedule/WBS Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtProjectTasksComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtProjectTasksComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>    
            
            <apex:outputPanel id="detailKeyMembers">
            <apex:pageBlockSection title="Project Team" collapsible="false" rendered="{!changeManager.IntExtKeyMembers__c}" columns="1">  
                <apex:pageBlockTable value="{!ChangedKeyMembers}" var="teamMember" rendered="{!ChangedKeyMembers != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!teamMember.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(teamMember.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.ProjectTeamMember__c.View, teamMember.Id)}"><apex:outputField value="{!teamMember.Name__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Role"><apex:outputField value="{!teamMember.ProjectRole__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!teamMember.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!teamMember.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
                <apex:outputLabel value="Project Team Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtKeyMembersComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtKeyMembersComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>      
            </apex:outputPanel>                   

            <apex:pageBlockSection title="Customers" collapsible="false" rendered="{!changeManager.IntExtCustomers__c}" columns="1">  
                <apex:pageBlockTable value="{!ChangedCustomers}" var="customer" rendered="{!ChangedCustomers != null  && NOT(changeManager.IsApproved__c)}">
                <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!customer.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(customer.ChangeManagerIsNew__c)}"/>
                    </apex:column>   
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Project_Site__c.View, customer.Id)}"><apex:outputField value="{!customer.Account_Name__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!customer.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!customer.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>                
                <apex:outputLabel value="Customers Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtCustomersComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtCustomersComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection> 
            
            <apex:pageBlockSection title="Project Classifications" collapsible="false" rendered="{!changeManager.IntExtClassifications__c}" columns="1">  
            <apex:outputlink rendered="{!ChangedClassifications != null}" value="{!URLFOR('/apex/ECO_ClassificationEditor?Id=' + changeManager.Project__c, null)}">View Classifications</apex:outputlink>
            <apex:outputPanel rendered="{!ChangedClassifications != null}">
                <apex:pageBlockTable value="{!ChangedClassifications}" var="classification">
                    <apex:column >
                        <apex:facet name="header">Class Category</apex:facet>
                        {!classification.CLASS_CATEGORY}
                    </apex:column>
                    <apex:column >
                        <apex:facet name="header">Class Code</apex:facet>
                            {!classification.CLASS_CODE}
                    </apex:column>
                </apex:pageBlockTable>
            </apex:outputPanel>
            <apex:outputLabel value="Project Classifications Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtClassificationsComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtClassificationsComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>             
        
            <apex:pageBlockSection title="Safety, Health & Environment" collapsible="false" rendered="{!changeManager.IntExtSafetyHealthEnv__c}" columns="1">            
                
                <apex:pageBlockTable value="{!ChangedSafetyHealthEnv}" var="safetyHealth" rendered="{!ChangedSafetyHealthEnv != null}">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_SafetyHealthEnvironment?Id=' + changeManager.Project__c, null)}">View Safety Health and Environment</apex:outputlink></apex:column>
                <!--    <apex:column headervalue="Last Modified By"><apex:outputField value="{!safetyHealth.ChangeManagerSafetyUpdatedBy__c}"/></apex:column> -->
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!safetyHealth.ChangeManagerSafetyUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>
                
                <apex:outputLabel value="Safety, Health & Environment Change Notes" styleclass="dmeOutput"/>                
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtSafetyHealthEnvComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtSafetyHealthEnvComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Agreements and Funding" collapsible="false" rendered="{!changeManager.IntExtContractManagement__c }" columns="1">
                <apex:outputLabel value="Agreements" styleclass="dmeOutput" rendered="{!NOT(changeManager.IsApproved__c) && ChangedAgreements != null}" />
                <apex:pageBlockTable value="{!ChangedAgreements}" var="contractManagement" rendered="{!ChangedAgreements != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!contractManagement.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(contractManagement.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Agreement__c.View, contractManagement.Id)}"><apex:outputField value="{!contractManagement.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Record Type"><apex:outputField value="{!contractManagement.RecordType.Name}"/></apex:column>
                    <apex:column headervalue="Total Approved Revenue Limit"><apex:outputField value="{!contractManagement.TotalApprovedRevenueLimit__c}"/></apex:column>
                    <apex:column headervalue="Value"><apex:outputField value="{!contractManagement.TotalContractValue__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!contractManagement.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!contractManagement.LastModifiedDate}"/></apex:column>              
                </apex:pageBlockTable>              
                
                <apex:outputLabel value="Funding" styleclass="dmeOutput" rendered="{!NOT(changeManager.IsApproved__c) && ChangedContractManagementFunding != null}" />          
                <apex:pageBlockTable value="{!ChangedContractManagementFunding}" var="contractManagementFunding" rendered="{!ChangedContractManagementFunding != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!contractManagementFunding.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(contractManagementFunding.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Funding__c.View, contractManagementFunding.Id)}"><apex:outputField value="{!contractManagementFunding.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Allocated Date"><apex:outputField value="{!contractManagementFunding.DateAllocatedDate__c}"/></apex:column>
                    <apex:column headervalue="Allocated Amount"><apex:outputField value="{!contractManagementFunding.AllocatedAmount__c}"/></apex:column>               
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!contractManagementFunding.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!contractManagementFunding.LastModifiedDate}"/></apex:column>   
                </apex:pageBlockTable>  
         
                <apex:outputLabel value="Agreements and Funding Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtContractManagementComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c) && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtContractManagementComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>  
                </apex:outputPanel>          
            </apex:pageBlockSection>
                    
            <apex:pageBlockSection title="Scope and Packages" collapsible="false" rendered="{!changeManager.IntExtScope__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedScope}" var="scope" rendered="{!ChangedScope != null && NOT(changeManager.IsApproved__c)}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!scope.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(scope.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Packages__c.View, scope.Id)}"><apex:outputField value="{!scope.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Status"><apex:outputField value="{!scope.Status__c}"/></apex:column>                  
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!scope.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!scope.LastModifiedDate}"/></apex:column>                                   
                </apex:pageBlockTable>

                <apex:outputLabel value="Scope and Packages Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >            
                    <apex:inputField value="{!changeManager.IntExtScopeComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" /> 
                    <apex:outputField value="{!changeManager.IntExtScopeComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>   
                </apex:outputPanel>         
            </apex:pageBlockSection>
            
            <apex:inputHidden value="{!changeManager.BudgetHeader__c}"/>
            <apex:pageBlockSection title="Budget" collapsible="false" rendered="{!changeManager.IntExtBudget__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedBudget}" var="budget" rendered="{!ChangedBudget != null}">
                    <apex:column headervalue="Budget Name"><apex:outputlink value="{!URLFOR('/apex/ECO_BudgetHeaderSummary?Id=' + budget.Project__c, null)}"><apex:outputField value="{!budget.BudgetName__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Cost Charge"><apex:outputField value="{!budget.TotalCost__c}"/></apex:column>
                    <apex:column headervalue="Revenue Charge"><apex:outputField value="{!budget.AppliedTotalRevenue__c}"/></apex:column>
                    <apex:column headervalue="Status"><apex:outputField value="{!budget.Status__c}"/></apex:column>                 
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!budget.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!budget.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>    
                
                <apex:outputPanel rendered="{ChangedBudgetContingency != null && ChangedBudgetContingency != 0}">
                    <apex:outputLabel value="Contingency Amount" styleclass="dmeOutput"/>  
                    <apex:outputText value="{!ChangedBudgetContingency}" />
                </apex:outputPanel>
        
                <apex:outputLabel value="Budget Change Notes" styleclass="dmeOutput"/>              
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtBudgetComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="true"/>
                    <apex:outputField value="{!changeManager.IntExtBudgetComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Subs and Vendors" collapsible="false" rendered="{!changeManager.IntExtResources__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedResources}" var="resource" rendered="{!ChangedResources != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!resource.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(resource.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.VendorSite__c.View, resource.Id)}"><apex:outputField value="{!resource.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Account"><apex:outputField value="{!resource.AccountName__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!resource.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!resource.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              

                <apex:outputLabel value="Subs and Vendors Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtResourcesComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}"/>
                    <apex:outputField value="{!changeManager.IntExtResourcesComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Deliverables" collapsible="false" rendered="{!changeManager.IntExtDeliverables__c}" columns="1">
                    <apex:pageBlockTable value="{!ChangedDeliverables}" var="deliverable" rendered="{!ChangedDeliverables != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!deliverable.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(deliverable.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Deliverable__c.View, deliverable.Id)}"><apex:outputField value="{!deliverable.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Type"><apex:outputLink value="{!deliverable.DeliverableType__c}"/></apex:column>
                    <apex:column headervalue="Deliverable Owner"><apex:outputField value="{!deliverable.DeliverableOwner__c}"/></apex:column>
                    <apex:column headervalue="Due Date"><apex:outputField value="{!deliverable.DueDate__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!deliverable.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!deliverable.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
 
                <apex:outputLabel value="Deliverables Change Notes" styleclass="dmeOutput"/>            
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtDeliverablesComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}"/>
                    <apex:outputField value="{!changeManager.IntExtDeliverablesComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>            
            
            <apex:pageBlockSection title="Document Management" collapsible="false" rendered="{!changeManager.IntExtDocumentManagement__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedDocumentManagement}" var="docManage" rendered="{!ChangedDocumentManagement != null}">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_DocumentManagement?Id=' + changeManager.Project__c, null)}">View Document Management</apex:outputlink></apex:column>
           <!--         <apex:column headervalue="Last Modified By"><apex:outputField value="{!docManage.ChangeManagerDocManageUpdatedBy__c}"/></apex:column> -->
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!docManage.ChangeManagerDocManageUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>
                            
                <apex:outputLabel value="Document Management Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >
                    <apex:inputField value="{!changeManager.IntExtDocumentManagementComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}"/>
                    <apex:outputField value="{!changeManager.IntExtDocumentManagementComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>    
            
            <apex:pageBlockSection title="Stakeholder & Communications" collapsible="false" rendered="{!changeManager.IntExtStakeholdersComm__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedStakeHolders}" var="stakeholder" rendered="{!ChangedStakeHolders != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!stakeholder.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(stakeholder.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Stakeholder__c.View, stakeHolder.Id)}"><apex:outputField value="{!stakeholder.Name}"/></apex:outputlink></apex:column>
                <apex:column headervalue="Type"><apex:outputField value="{!stakeHolder.StakeholderType__c}"/></apex:column>
                <apex:column headervalue="AECOM Contact"><apex:outputField value="{!stakeHolder.AECOMContact__c}"/></apex:column>
                <apex:column headervalue="Organization"><apex:outputField value="{!stakeHolder.Organization__c}"/></apex:column>
                <apex:column headervalue="Contact"><apex:outputField value="{!stakeHolder.ContactName__c}"/></apex:column>
                <apex:column headervalue="Last Modified By"><apex:outputField value="{!stakeHolder.LastModifiedById}"/></apex:column>
                <apex:column headervalue="Last Modified Date"><apex:outputField value="{!stakeHolder.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>
                <apex:outputLabel value="Stakeholder & Communications Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >            
                    <apex:inputField value="{!changeManager.IntExtStakeholdersCommComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtStakeholdersCommComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>    
            
            <apex:pageBlockSection title="Risk Register" collapsible="false" rendered="{!changeManager.IntExtRiskManagement__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedRiskManagement}" var="riskManagement" rendered="{!ChangedRiskManagement != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!riskManagement.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(riskManagement.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                <apex:column headervalue="Risk Title"><apex:outputlink value="{!URLFOR($Action.Risk__c.View, riskManagement.Id)}"><apex:outputField value="{!riskManagement.Name}"/></apex:outputlink></apex:column>
                <apex:column headervalue="Current Status"><apex:outputField value="{!riskManagement.CurrentStatus__c}"/></apex:column>
                <apex:column headervalue="RiskOwner"><apex:outputField value="{!riskManagement.RiskOwner__c}"/></apex:column>
                <apex:column headervalue="Category"><apex:outputField value="{!riskManagement.RiskCategory__c}"/></apex:column>
                <apex:column headervalue="Last Modified By"><apex:outputField value="{!riskManagement.LastModifiedById}"/></apex:column>
                <apex:column headervalue="Last Modified Date"><apex:outputField value="{!riskManagement.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>

                <apex:outputLabel value="Risk Register Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >           
                    <apex:inputField value="{!changeManager.IntExtRiskManagementComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" />
                    <apex:outputField value="{!changeManager.IntExtRiskManagementComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>    
              
            <apex:pageBlockSection title="Resilience" collapsible="false" rendered="{!changeManager.IntExtSecurity__c}" columns="1">
                <apex:pageBlockTable value="{!ChangedResilience}" var="resilience" rendered="{!ChangedResilience != null}">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_Resilience?Id=' + changeManager.Project__c, null)}">View Resilience</apex:outputlink></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!resilience.ChangeManagerResilienceUpdatedBy__c}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!resilience.ChangeManagerResilienceUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>
                        
                <apex:outputLabel value="Resilience Change Notes" styleclass="dmeOutput"/>
                <apex:outputPanel >            
                    <apex:inputField value="{!changeManager.IntExtSecurityComments__c}" style="width: 825px; height: 40px" 
                            rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="{!changeManager.IntExtSecurity__c}"/>
                    <apex:outputField value="{!changeManager.IntExtSecurityComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                </apex:outputPanel>
            </apex:pageBlockSection>                                                                                                
                 
            <apex:pageBlockSection title="Project Status" collapsible="false" rendered="{!changeManager.IntExtProjectClosure__c || changeManager.IntExtProjectOnHold__c}" columns="1">
                <apex:outputPanel rendered="{!ChangedProjectClosure != null}">              
                    <apex:variable value="{!ChangedProjectClosure[0]}" var="projstatus"/>
                    
                    <apex:outputPanel rendered="{!projstatus.RequestedProjectStatus__c == 'Closed'}">
                        <apex:pageBlockTable value="{!ChangedProjectClosure}" var="closure">
                            <apex:column headervalue="Action"><apex:commandLink action="{!viewProjectClosureRequest}" value="Project Closure Request"/></apex:column>
                            <apex:column headervalue="Requested Status"><apex:outputText value="{!closure.RequestedProjectStatus__c}" /></apex:column>
                            <apex:column headervalue="Closure Date"><apex:outputField value="{!closure.ClosureDate__c}" /></apex:column>
                            <apex:column headervalue="Modified By"><apex:outputField value="{!closure.ChangeManagerProjectStatusUpdatedBy__c}" /></apex:column>
                            <apex:column headervalue="Modified Date"><apex:outputField value="{!closure.ChangeManagerProjectStatusUpdatedDate__c}" /></apex:column>                     
                        </apex:pageBlockTable>

                        <apex:outputLabel value="Closure Notes: " styleclass="dmeOutput"/><br/>  
                        <apex:outputText value="{!projstatus.ProjectClosureNotes__c}" /> 
                    
                        <br/><br/>
                        <apex:outputLabel value="Project Closure Change Notes" styleclass="dmeOutput"/><br/>
                        <apex:outputPanel >           
                            <apex:inputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="true"/>
                            <apex:outputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                        </apex:outputPanel>
                    </apex:outputPanel>

                    <apex:outputPanel rendered="{!projstatus.RequestedProjectStatus__c == 'Execution'}">
                        <apex:outputLabel value="Project Re-Open Change Notes" styleclass="dmeOutput"/><br/>
                        <apex:outputPanel >           
                            <apex:inputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="true"/>
                            <apex:outputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                        </apex:outputPanel>
                    </apex:outputPanel>

                    


                    <apex:outputPanel rendered="{!projstatus.RequestedProjectStatus__c == 'On Hold'}">
                    <apex:pageBlockTable value="{!ChangedProjectClosure}" var="onHold">
                        <apex:column headervalue="Action"><apex:commandLink action="{!viewProjectClosureRequest}" value="Project On Hold Request"/></apex:column>
                        <apex:column headervalue="Requested Status"><apex:outputText value="{!onHold.RequestedProjectStatus__c}" /></apex:column>
                        <apex:column headervalue="Scheduled On Hold Date"><apex:outputField value="{!onHold.ScheduledOnHoldDate__c}" /></apex:column>
                        <apex:column headervalue="Scheduled Restart Date"><apex:outputField value="{!onHold.ScheduledRestartDate__c}" /></apex:column>
                        <apex:column headervalue="Modified By"><apex:outputField value="{!onHold.ChangeManagerProjectStatusUpdatedBy__c}" /></apex:column>
                        <apex:column headervalue="Modified Date"><apex:outputField value="{!onHold.ChangeManagerProjectStatusUpdatedDate__c}" /></apex:column>                                          
                    </apex:pageBlockTable>
                    <br/>
                    <apex:outputLabel value="On Hold Reason: " styleclass="dmeOutput"/><br/> 
                    <apex:outputText value="{!projstatus.OnHoldReason__c}" />                   
                    <br/><br/>
                    <apex:outputLabel value="Project On Hold Change Notes" styleclass="dmeOutput"/><br/>
                    <apex:outputPanel >           
                        <apex:inputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="true"/>
                        <apex:outputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                    </apex:outputPanel>
                    </apex:outputPanel>  

                </apex:outputPanel>  

                <apex:outputPanel rendered="{!changeManager.IsProjectRestart__c}">
                        <apex:outputLabel value="Project Restart Notes" styleclass="dmeOutput"/><br/>
                        <apex:outputPanel >           
                            <apex:inputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!NOT(changeManager.IsApproved__c)  && mode != ''}" required="true"/>
                            <apex:outputField value="{!changeManager.IntExtProjectClosureComments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.IsApproved__c || mode == ''}"/>
                        </apex:outputPanel>
                    </apex:outputPanel>
                       
            </apex:pageBlockSection>    
                                                                                                      
            </apex:outputPanel>    
            </div>
            <div style="clear:both;"></div><br/>
        </apex:pageBlock>
        </apex:outputPanel>
        <apex:outputPanel id="executionApproval"> 
		<apex:outputPanel rendered="{!changeManager.IsExecutionApprovalChange__c}" id="executionApproval2">
        	<apex:pageBlock mode="edit" title="{!changeManager.RecordType.Name}" id="pb1">
        		<apex:pageBlockButtons >
            		<apex:commandButton value="Save" action="{!saveChangeManager}"/>
                	<apex:commandButton value="Return to Project" action="{!returnToProject}" immediate="true"/>
                    <apex:commandButton value="Login to Oracle" onclick="openModal('modalDialogOracleLogin');return false;" rendered="{!NOT(changeManager.Is_Oracle_Token_Valid__c) && (changeManager.OracleApprovalSyncStatus__c == 'Submitted' || changeManager.OracleApprovalSyncStatus__c == 'Failed')}"/>
                    <apex:commandButton value="Submit for Approval" action="{!SubmitForApproval}" id="Submit_for_Approval" rendered="{!(changeManager.ApprovalStatus__c == null || changeManager.ApprovalStatus__c == '' || changeManager.ApprovalStatus__c == 'Rejected') && projectSynchMessages == ''}"/>
                    <apex:commandButton value="Synchronize Project" rendered="{!changeManager.OracleApprovalSyncStatus__c == 'Failed' && changeManager.Is_Oracle_Token_Valid__c}" action="{!SynchronizeProject}" id="SynchronizeProjectButton"/>                  
                    <!--<apex:commandButton value="Login to Oracle" onclick="openModal('modalDialogOracleLogin');return false;" />-->
            	</apex:pageBlockButtons>  

           <apex:pageBlockSection title="Details" collapsible="false">
                <apex:outputField value="{!changeManager.Project__c}"/>
                <apex:outputField value="{!changeManager.ProjectNumber__c}"/>
                <apex:pageBlockSectionItem >
                    <apex:outputText value="Change Type"/>
                    <apex:outputField value="{!changeManager.RecordType.Name}"/>
                </apex:pageBlockSectionItem>
                <apex:outputField value="{!changeManager.ApprovalStatus__c}"/>    

 
                <apex:outputField value="{!changeManager.ProjectApprover__c}" rendered="{!NOT(changeManager.IsApproved__c)}"/>
                <apex:outputField value="{!changeManager.ProjectApprover__c}" rendered="{!changeManager.IsApproved__c}"/>

                <apex:outputField value="{!changeManager.OracleApprovalSyncStatus__c}" id="OracelApprovalSynchStatus"/>
                <apex:outputField value="{!changeManager.ProjectAccountantApprover__c}" rendered="{!NOT(changeManager.IsApproved__c)}"/>
                <apex:outputField value="{!changeManager.ProjectAccountantApprover__c}" rendered="{!changeManager.IsApproved__c}"/>
                <apex:outputPanel />
                <apex:outputField value="{!changeManager.FinanceApprover__c}" rendered="{!NOT(changeManager.IsApproved__c)}"/>
                <apex:outputField value="{!changeManager.FinanceApprover__c}" rendered="{!changeManager.IsApproved__c}"/>


                <apex:outputPanel />
                
                <apex:outputPanel />
                           
            </apex:pageBlockSection> 

     		<apex:pageBlockSection title="Project Synch " collapsible="false" columns="1">  
				<apex:outputText style="color: red; font-weight: bold;" escape="false" value="{!projectSynchMessages}" rendered="{!projectSynchMessages != ''}"/>
				<apex:outputText value="No Project Synch Issues Found" rendered="{!projectSynchMessages == ''}"/>	
				
                <apex:outputPanel rendered="{!invalidTasks.size > 0}">
                    <br/>
    				<apex:outputLabel value="Tasks" styleclass="dmeOutput" />          
    				<apex:pageBlockTable value="{!invalidTasks}" var="task">
    					<apex:column headervalue="Task"><apex:outputText value="{!task.RecordName}"/></apex:column>
    					<apex:column headervalue="Validation Errors"><apex:outputText value="{!task.validationErrorMessage}"/></apex:column>
    				</apex:pageBlockTable>
                 </apex:outputPanel>
								
                <apex:outputPanel rendered="{!invalidCustomers.size > 0}">
                    <br/>
				    <apex:outputLabel value="Customers" styleclass="dmeOutput" />
				    <apex:pageBlockTable value="{!invalidCustomers}" var="customer">
					   <apex:column headervalue="Customer"><apex:outputText value="{!customer.RecordName}"/></apex:column>
					   <apex:column headervalue="Validation Errors"><apex:outputText value="{!customer.validationErrorMessage}"/></apex:column>
				    </apex:pageBlockTable>
                </apex:outputPanel>
				

                <apex:outputPanel rendered="{!invalidKeyMembers.size > 0}">
                    <br/>   
				    <apex:outputLabel value="Key Members" styleclass="dmeOutput" />			
				    <apex:pageBlockTable value="{!invalidKeyMembers}" var="keyMember">
					   <apex:column headervalue="Key Member"><apex:outputText value="{!keyMember.RecordName}"/></apex:column>
					   <apex:column headervalue="Validation Errors"><apex:outputText value="{!keyMember.validationErrorMessage}"/></apex:column>
				    </apex:pageBlockTable>	
                </apex:outputPanel>			

            </apex:pageBlockSection>            	


            <apex:pageBlockSection columns="1" title="Request History" id="syncHistorySection">
                <apex:pageBlockSectionItem >
                    <apex:tabPanel switchType="client" selectedTab="successSync">
                        <apex:tab label="Successful Requests ({!numSuccessfulSyncs})" id="successSync">
                            <apex:pageMessage severity="INFO" rendered="{!!hasSyncHistory}" summary="No sync history exists."></apex:pageMessage>                                   
                            <apex:pageBlockTable value="{!syncHistory}" var="history" rendered="{!hasSyncHistory}">                 
                                <apex:column >
                                    <apex:facet name="header">{!$ObjectType.IntegrationMessageQueue__c.Fields.Status__c.Label}</apex:facet>
                                    <apex:image url="{!URLFOR($Resource.greenStar)}" height="20px" width="20px" />
                                </apex:column>                  
                                <apex:column >
                                    <apex:facet name="header">{!$ObjectType.IntegrationMessageQueue__c.Fields.SuccessMessage__c.Label}</apex:facet>
                                    {!if(history.msgQueue.SuccessMessage__c == null, 'Project request successfully processed.', history.msgQueue.SuccessMessage__c)}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header">Date Processed</apex:facet>
                                    {!history.syncLocalDateTime}
                                </apex:column>
                            </apex:pageBlockTable>  
                        </apex:tab>
                        <apex:tab label="Failed/Attempted Requests ({!numFailedAttemptedSyncs})" id="failedSync">
                            <apex:pageMessage severity="INFO" rendered="{!!hasRequestFailures}" summary="No sync failures exists."></apex:pageMessage>                                  
                            <apex:pageBlockTable value="{!requestFailures}" var="failure" rendered="{!hasRequestFailures}">             
                                <apex:column >
                                    <apex:facet name="header">{!$ObjectType.IntegrationMessageQueue__c.Fields.Status__c.Label}</apex:facet>
                                    <apex:image url="{!if(failure.msgQueue.ErrorMessage__c == '' || failure.msgQueue.ErrorMessage__c == null, URLFOR($Resource.yellowCircle), URLFOR($Resource.redTriangle))}" height="20px" width="20px" />{!failure.msgQueue.Status__c}
                                </apex:column>                  
                                <apex:column >
                                    <apex:facet name="header">{!$ObjectType.IntegrationMessageQueue__c.Fields.ErrorMessage__c.Label}</apex:facet>
                                    {!failure.msgQueue.ErrorMessage__c}
                                </apex:column>
                                <apex:column >
                                    <apex:facet name="header">Date Attempted</apex:facet>
                                    {!failure.syncLocalDateTime}
                                </apex:column>
                            </apex:pageBlockTable>  
                        </apex:tab>

                    </apex:tabPanel>

                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>


            	
     		<apex:pageBlockSection title="Schedule/WBS" collapsible="false" rendered="{!ChangedTasks != null}" columns="1">  
                <apex:pageBlockTable value="{!ChangedTasks}" var="task" rendered="{!ChangedTasks != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!task.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(task.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Task Number"><apex:outputlink value="{!URLFOR($Action.pse__Project_Task__c.View, task.Id)}"><apex:outputField value="{!task.ProjectTaskNumber__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Task Name"><apex:outputField value="{!task.Name}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!task.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!task.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
            </apex:pageBlockSection>


           <apex:pageBlockSection title="Project Team" collapsible="false" rendered="{!ChangedKeyMembers != null}" columns="1">  
                <apex:pageBlockTable value="{!ChangedKeyMembers}" var="teamMember" rendered="{!ChangedKeyMembers != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!teamMember.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(teamMember.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.ProjectTeamMember__c.View, teamMember.Id)}"><apex:outputField value="{!teamMember.Name__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Role"><apex:outputField value="{!teamMember.ProjectRole__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!teamMember.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!teamMember.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
            </apex:pageBlockSection> 
        
            <apex:pageBlockSection title="Customers" collapsible="false" rendered="{!ChangedCustomers != null}" columns="1">  
                <apex:pageBlockTable value="{!ChangedCustomers}" var="customer" rendered="{!ChangedCustomers != null}">
                <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!customer.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(customer.ChangeManagerIsNew__c)}"/>
                    </apex:column>   
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Project_Site__c.View, customer.Id)}"><apex:outputField value="{!customer.Account_Name__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!customer.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!customer.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>                

            </apex:pageBlockSection> 
            
            <apex:pageBlockSection title="Project Classifications" collapsible="false" rendered="{!ChangedClassifications != null}" columns="1">  
            <apex:outputlink value="{!URLFOR('/apex/ECO_ClassificationEditor?Id=' + changeManager.Project__c, null)}">View Classifications</apex:outputlink>
            <apex:outputPanel rendered="{!ChangedClassifications != null}">
                <apex:pageBlockTable value="{!ChangedClassifications}" var="classification">
                    <apex:column >
                        <apex:facet name="header">Class Category</apex:facet>
                        {!classification.CLASS_CATEGORY}
                    </apex:column>
                    <apex:column >
                        <apex:facet name="header">Class Code</apex:facet>
                            {!classification.CLASS_CODE}
                    </apex:column>
                </apex:pageBlockTable>
            </apex:outputPanel>
            </apex:pageBlockSection>             
        
            <apex:pageBlockSection title="Safety, Health & Environment" collapsible="false" rendered="{!ChangedSafetyHealthEnv != null}" columns="1">                           
                <apex:pageBlockTable value="{!ChangedSafetyHealthEnv}" var="safetyHealth">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_SafetyHealthEnvironment?Id=' + changeManager.Project__c, null)}">View Safety Health and Environment</apex:outputlink></apex:column>
                <!--    <apex:column headervalue="Last Modified By"><apex:outputField value="{!safetyHealth.ChangeManagerSafetyUpdatedBy__c}"/></apex:column> -->
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!safetyHealth.ChangeManagerSafetyUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>                
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Agreements and Funding" collapsible="false" rendered="{!ChangedAgreements != null || ChangedContractManagementFunding != null}" columns="1">
                <apex:outputLabel value="Agreements" styleclass="dmeOutput" rendered="{!ChangedAgreements != null}" />
                <apex:pageBlockTable value="{!ChangedAgreements}" var="contractManagement" rendered="{!ChangedAgreements != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!contractManagement.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(contractManagement.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Agreement__c.View, contractManagement.Id)}"><apex:outputField value="{!contractManagement.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Record Type"><apex:outputField value="{!contractManagement.RecordType.Name}"/></apex:column>
                    <apex:column headervalue="Total Approved Revenue Limit"><apex:outputField value="{!contractManagement.TotalApprovedRevenueLimit__c}"/></apex:column>
                    <apex:column headervalue="Value"><apex:outputField value="{!contractManagement.Amount__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!contractManagement.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!contractManagement.LastModifiedDate}"/></apex:column>              
                </apex:pageBlockTable>              
                
                <apex:outputLabel value="Funding" styleclass="dmeOutput" rendered="{!ChangedContractManagementFunding != null}" />          
                <apex:pageBlockTable value="{!ChangedContractManagementFunding}" var="contractManagementFunding" rendered="{!ChangedContractManagementFunding != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!contractManagementFunding.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(contractManagementFunding.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Funding__c.View, contractManagementFunding.Id)}"><apex:outputField value="{!contractManagementFunding.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Allocated Date"><apex:outputField value="{!contractManagementFunding.DateAllocatedDate__c}"/></apex:column>
                    <apex:column headervalue="Allocated Amount"><apex:outputField value="{!contractManagementFunding.AllocatedAmount__c}"/></apex:column>               
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!contractManagementFunding.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!contractManagementFunding.LastModifiedDate}"/></apex:column>   
                </apex:pageBlockTable>                  
            </apex:pageBlockSection>
                    
            <apex:pageBlockSection title="Scope and Packages" collapsible="false" rendered="{!ChangedScope != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedScope}" var="scope" rendered="{!ChangedScope != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!scope.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(scope.ChangeManagerIsNew__c)}"/>
                    </apex:column> 
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Packages__c.View, scope.Id)}"><apex:outputField value="{!scope.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Status"><apex:outputField value="{!scope.Status__c}"/></apex:column>                  
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!scope.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!scope.LastModifiedDate}"/></apex:column>                                   
                </apex:pageBlockTable>       
            </apex:pageBlockSection>
                        	
            <apex:inputHidden value="{!changeManager.BudgetHeader__c}"/>
            <apex:pageBlockSection title="Budget" collapsible="false" rendered="{!ChangedBudget != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedBudget}" var="budget" rendered="{!ChangedBudget != null}">
                    <apex:column headervalue="Budget Name"><apex:outputlink value="{!URLFOR('/apex/ECO_BudgetHeaderSummary?Id=' + budget.Project__c, null)}"><apex:outputField value="{!budget.BudgetName__c}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Cost Charge"><apex:outputField value="{!budget.TotalCost__c}"/></apex:column>
                    <apex:column headervalue="Revenue Charge"><apex:outputField value="{!budget.AppliedTotalRevenue__c}"/></apex:column>
                    <apex:column headervalue="Status"><apex:outputField value="{!budget.Status__c}"/></apex:column>                 
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!budget.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!budget.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>    
                
                <apex:outputPanel rendered="{ChangedBudgetContingency != null && ChangedBudgetContingency != 0}">
                    <apex:outputLabel value="Contingency Amount" styleclass="dmeOutput"/>  
                    <apex:outputText value="{!ChangedBudgetContingency}" />
                </apex:outputPanel>
        
            </apex:pageBlockSection>            	

            <apex:pageBlockSection title="Subs and Vendors" collapsible="false" rendered="{!ChangedResources != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedResources}" var="resource" rendered="{!ChangedResources != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!resource.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(resource.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.VendorSite__c.View, resource.Id)}"><apex:outputField value="{!resource.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Account"><apex:outputField value="{!resource.AccountName__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!resource.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!resource.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              

            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Deliverables" collapsible="false" rendered="{!ChangedDeliverables != null}" columns="1">
                    <apex:pageBlockTable value="{!ChangedDeliverables}" var="deliverable" rendered="{!ChangedDeliverables != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!deliverable.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(deliverable.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                    <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Deliverable__c.View, deliverable.Id)}"><apex:outputField value="{!deliverable.Name}"/></apex:outputlink></apex:column>
                    <apex:column headervalue="Type"><apex:outputLink value="{!deliverable.DeliverableType__c}"/></apex:column>
                    <apex:column headervalue="Deliverable Owner"><apex:outputField value="{!deliverable.DeliverableOwner__c}"/></apex:column>
                    <apex:column headervalue="Due Date"><apex:outputField value="{!deliverable.DueDate__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!deliverable.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!deliverable.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>              
 
            </apex:pageBlockSection>            
            
            <apex:pageBlockSection title="Document Management" collapsible="false" rendered="{!ChangedDocumentManagement != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedDocumentManagement}" var="docManage">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_DocumentManagement?Id=' + changeManager.Project__c, null)}">View Document Management</apex:outputlink></apex:column>
           <!--         <apex:column headervalue="Last Modified By"><apex:outputField value="{!docManage.ChangeManagerDocManageUpdatedBy__c}"/></apex:column> -->
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!docManage.ChangeManagerDocManageUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>
                            
            </apex:pageBlockSection>    
            
            <apex:pageBlockSection title="Stakeholder & Communications" collapsible="false" rendered="{!ChangedStakeHolders != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedStakeHolders}" var="stakeholder" rendered="{!ChangedStakeHolders != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!stakeholder.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(stakeholder.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                <apex:column headervalue="Name"><apex:outputlink value="{!URLFOR($Action.Stakeholder__c.View, stakeHolder.Id)}"><apex:outputField value="{!stakeholder.Name}"/></apex:outputlink></apex:column>
                <apex:column headervalue="Type"><apex:outputField value="{!stakeHolder.StakeholderType__c}"/></apex:column>
                <apex:column headervalue="AECOM Contact"><apex:outputField value="{!stakeHolder.AECOMContact__c}"/></apex:column>
                <apex:column headervalue="Organization"><apex:outputField value="{!stakeHolder.Organization__c}"/></apex:column>
                <apex:column headervalue="Contact"><apex:outputField value="{!stakeHolder.ContactName__c}"/></apex:column>
                <apex:column headervalue="Last Modified By"><apex:outputField value="{!stakeHolder.LastModifiedById}"/></apex:column>
                <apex:column headervalue="Last Modified Date"><apex:outputField value="{!stakeHolder.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>
            </apex:pageBlockSection>    
            
            <apex:pageBlockSection title="Risk Register" collapsible="false" rendered="{!ChangedRiskManagement != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedRiskManagement}" var="riskManagement" rendered="{!ChangedRiskManagement != null}">
                    <apex:column headerValue="Change Type" width="35px">
                        <apex:outputText value="New" rendered="{!riskManagement.ChangeManagerIsNew__c}"/>
                        <apex:outputText value="Update" rendered="{!NOT(riskManagement.ChangeManagerIsNew__c)}"/>
                    </apex:column>
                <apex:column headervalue="Risk Title"><apex:outputlink value="{!URLFOR($Action.Risk__c.View, riskManagement.Id)}"><apex:outputField value="{!riskManagement.Name}"/></apex:outputlink></apex:column>
                <apex:column headervalue="Current Status"><apex:outputField value="{!riskManagement.CurrentStatus__c}"/></apex:column>
                <apex:column headervalue="RiskOwner"><apex:outputField value="{!riskManagement.RiskOwner__c}"/></apex:column>
                <apex:column headervalue="Category"><apex:outputField value="{!riskManagement.RiskCategory__c}"/></apex:column>
                <apex:column headervalue="Last Modified By"><apex:outputField value="{!riskManagement.LastModifiedById}"/></apex:column>
                <apex:column headervalue="Last Modified Date"><apex:outputField value="{!riskManagement.LastModifiedDate}"/></apex:column>
                </apex:pageBlockTable>

            </apex:pageBlockSection>    
              
            <apex:pageBlockSection title="Resilience" collapsible="false" rendered="{!ChangedResilience != null}" columns="1">
                <apex:pageBlockTable value="{!ChangedResilience}" var="resilience">
                    <apex:column headervalue="Action"><apex:outputlink value="{!URLFOR('/apex/ECO_Resilience?Id=' + changeManager.Project__c, null)}">View Resilience</apex:outputlink></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!resilience.ChangeManagerResilienceUpdatedBy__c}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!resilience.ChangeManagerResilienceUpdatedDate__c}"/></apex:column>
                </apex:pageBlockTable>
                        
            </apex:pageBlockSection> 
            <apex:outputPanel id="budgetPanel">                                                                                               
            <apex:pageBlockSection title="Budget" collapsible="false" columns="1">
                <apex:pageBlockTable value="{!initialBudgetsForExecution}" var="budgetwrapper" columnsWidth="10%,30%,30%,30%">
                    <apex:column headervalue="Synch to Oracle?">
                        <apex:inputCheckbox value="{!budgetwrapper.isSelected}">
                            
                            <apex:actionSupport event="onclick" action="{!oracleSyncControl}" reRender="budgetPanel">
                                <apex:param name="bhID" value="{!budgetwrapper.budgetHeader.id}" assignTo="{!budgetID}"/>
                            </apex:actionSupport>
                        </apex:inputCheckbox>
                    </apex:column>
                    <apex:column headervalue="Budget Name" >
                        <apex:outputText value="{!budgetwrapper.budgetHeader.BudgetName__c}"/>
                    </apex:column>
                    <apex:column headervalue="Budget Name" >
                        <apex:outputlink value="{!URLFOR('/apex/ECO_BudgetHeaderSummary?Id=' + changeManager.Project__c, null)}"><apex:outputField value="{!budgetwrapper.budgetHeader.BudgetName__c}"/></apex:outputlink>
                        <!--<apex:outputText value="{!budgetwrapper.budgetHeader.BudgetName__c}"/>-->
                    </apex:column>
                    <apex:column headervalue="Cost Charge"><apex:outputField value="{!budgetwrapper.budgetHeader.TotalCost__c}"/></apex:column>
                    <apex:column headervalue="Revenue Charge"><apex:outputField value="{!budgetwrapper.budgetHeader.AppliedTotalRevenue__c}"/></apex:column>
                    <apex:column headervalue="Last Modified By"><apex:outputField value="{!budgetwrapper.budgetHeader.LastModifiedById}"/></apex:column>
                    <apex:column headervalue="Last Modified Date"><apex:outputField value="{!budgetwrapper.budgetHeader.LastModifiedDate}"/></apex:column>

                </apex:pageBlockTable>
            </apex:pageBlockSection>  
            </apex:outputPanel>
        	</apex:pageBlock>
        </apex:outputPanel>
        </apex:outputPanel>
        <c:ECO_ModalDialog width="350" padding="0px 0px 0px 0px" name="modalDialogOracleLogin">
            <apex:pageBlock title="Oracle Authentication">
            <div>
                <apex:outputText >Your Oracle security token has expired - please enter your Oracle credentials below to renew the token</apex:outputText>
            <br/><br/>
            </div>
            <div align="center">
            <apex:outputText style="font-weight:bold" value="Oracle Username:"/>
            <apex:inputText label="Username:" value="{!OracleUserName}" id="username" rendered="{!changeManager.IsSystemAdmin__c}" />
            <apex:inputText label="Username:" value="{!OracleUserName}" id="usernameRO" rendered="{!NOT(changeManager.IsSystemAdmin__c)}" html-readonly="true"/><br/>

            <apex:outputText style="font-weight:bold" value="Oracle Password:"/>
            <apex:inputSecret label="Password" value="{!OraclePassword}" id="password"/><br/><br/>
            </div>

            <apex:outputPanel id="btn1">
                <apex:outputPanel rendered="{!authenticationResult != 'SUCCESS'}">
                    <div align="center">
                        <apex:outputPanel layout="inline" styleClass="btn" onclick="authenticate()">Login</apex:outputPanel>
                        <apex:outputPanel layout="inline" styleClass="btn" onclick="cancelModal()">Cancel</apex:outputPanel>
                    </div>
                </apex:outputPanel>
            </apex:outputPanel>

            <apex:outputPanel id="btn2">
                <apex:outputPanel rendered="{!authenticationResult == 'SUCCESS'}">
                    <div align="center">
                        <apex:outputPanel layout="inline" styleClass="btn" onclick="closeAuthenticationModal()">Close</apex:outputPanel>
                    </div>
                </apex:outputPanel>
            </apex:outputPanel>

            <apex:outputPanel id="result">
                <apex:outputPanel rendered="{!authenticationResult != null}" ><br/>
                    <b>Result: </b><apex:outputText value="{!authenticationResult}" id="authenticationResult" />
                </apex:outputPanel>
            </apex:outputPanel>

            <apex:actionStatus id="queryStatus">
                <apex:facet name="start">
                    <p style="padding-bottom:20px;text-align:center;" class="searchText"><img style="position:relative;top:24px;" src="/img/loading32.gif" /> Authenticating...</p>
                </apex:facet>
            </apex:actionStatus>
            </apex:pageBlock>
        </c:ECO_ModalDialog> 
        

        <apex:actionFunction name="authenticateCredentials" action="{!authenticateCredentials}" rerender="result, btn1, btn2" status="queryStatus" immediate="true">
            <apex:param name="username" value=""/>
            <apex:param name="password" value=""/>
        </apex:actionFunction>


        <apex:actionStatus id="closeAuthentication">
            <apex:facet name="start">
                <p style="padding-bottom:20px;text-align:center;" class="searchText"><img style="position:relative;top:24px;" src="/img/loading32.gif" /> Closing...</p>
            </apex:facet>
        </apex:actionStatus>

        <apex:actionFunction name="closeAuthenticationWindow" action="{!closeAuthenticationWindow}" status="closeAuthentication" immediate="true"/>      
                
        <apex:outputPanel rendered="{!changeManager.IsPMHandoverChange__c}">
            <div class="customHelpText">
                <div class="customHelpBody">
                Reminder: Confirm that client approval is not required prior to re-assigning the 
                Project Manager role. If approval is required, upload the relevant approval documentation.
                </div>
            </div><br/>
            <apex:pageBlock mode="edit" title="{!changeManager.RecordType.Name & ' Change Edit'}">
                <apex:pageBlockButtons >
                    <apex:commandButton value="Save" action="{!saveChangeManager}" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
                    <apex:commandButton value="Return to Project" action="{!returnToProject}"/>
                    <apex:commandButton value="Take Project Snapshot" action="{!takeProjectSnapshot}" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c == 'Submitted'}"/>
                    <apex:commandButton value="Submit for Approval" action="{!SubmitForApproval}" id="Submit_for_Approval" rendered="{!(changeManager.ApprovalStatus__c == null || changeManager.ApprovalStatus__c == '' || changeManager.ApprovalStatus__c == 'Rejected')}"/>
                </apex:pageBlockButtons>
            <apex:pageBlockSection title="Project Details" columns="1">
                <apex:outputField value="{!changeManager.Project__r.Name}"/>
                <apex:outputField value="{!changeManager.ProjectNumber__c}"/>
                <apex:outputField value="{!changeManager.Client__c}"/>
                <apex:outputField value="{!changeManager.ProjectValue__c}"/>    
                <apex:inputField value="{!changeManager.OutgoingPM__c}" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>   
                <apex:inputField value="{!changeManager.IncomingPM__c}" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
                <apex:outputField value="{!changeManager.OutgoingPM__c}" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>   
                <apex:outputField value="{!changeManager.IncomingPM__c}" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>                   
            </apex:pageBlockSection>

            <apex:pageBlockSection title="Handover Summary" columns="1" id="pbstest">
<apex:outputlabel style="font-weight: bold;" value="Answer all the questions below with the incoming Project Manager"/>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverContractualDocuments__c}"  readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td>
<td><br/><apex:outputText style="font-weight: bold;">1. Have all the contractual documents, including existing scope changes or variations been signed by the Project Approver or Project Manager and the client?</apex:outputText>           

</td></tr></table></apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverContractualDocuments__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainContractualDocuments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainContractualDocuments__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>


<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverContractualObligations__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">2. Have all of the contractual obligations been met?</apex:outputText>          
</td></tr></table>
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverContractualObligations__c == 'No'}" >
Provide a Summary of what is remaining:<br/><apex:inputField value="{!changeManager.HandoverExplainContractObligations__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainContractObligations__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>


<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverSubsonProject__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">3. Are there subs on the project?</apex:outputText> 
</td></tr>        
<!--</apex:outputPanel>-->
<tr><td></td>
<td>
<apex:outputLabel value="Project Subs and Vendors" style="font-weight:bold"/>
<apex:outputPanel rendered="{!listOfVendorSites.size > 0}">
    <apex:repeat value="{!listOfVendorSites}" var="site">
        <apex:commandLink action="{!URLFOR($Action.Account.view, site.Site__r.Account__c)}"><apex:outputField value="{!site.AccountName__c}"/></apex:commandLink><br/><br/>
    </apex:repeat>
</apex:outputPanel>
<apex:outputPanel rendered="{!listOfVendorSites.size == 0}">
<br/><apex:outputLabel value="No records found"/>
</apex:outputPanel>
</td></tr></table>
</apex:outputPanel>

<apex:outputPanel rendered="{!changeManager.HandoverSubsonProject__c == 'Yes'}" >
State the current status of payment, scope completion and performance:<br/><apex:inputField value="{!changeManager.HandoverExplainSubsonProject__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainSubsonProject__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverMandatoryProjectApprovals__c}"  readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">4. Have the mandatory project approvals been achieved, such as any DOA matters, and relevant conditions of approval actioned?</apex:outputText> 
</td></tr></table>          
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverMandatoryProjectApprovals__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainMandatoryProjectApprovals__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainMandatoryProjectApprovals__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverProjectTeamInform__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">5. Have all project team members been informed of the handover?</apex:outputText>   
</td></tr></table>         
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverProjectTeamInform__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainProjectTeamInform__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainProjectTeamInform__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverClientInformed__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">6. Has the client been informed of the handover?</apex:outputText>   
</td></tr></table>        
</apex:outputPanel>
<!--<apex:outputPanel rendered="{!changeManager.HandoverKnownRisks__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainKnownRisks__c}" style="width: 825px; height: 40px"/>
</apex:outputPanel>-->

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverKnownRisks__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">7. Have all known risks been identified and captured on the project risk register?</apex:outputText>   
</td></tr></table>        
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverKnownRisks__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainKnownRisks__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainKnownRisks__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverBudgetUpdated__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">8. Has the budget been updated?</apex:outputText>   
</td></tr></table>         
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverBudgetUpdated__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainBudgetUpdated__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainBudgetUpdated__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverActionsRaised__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">9. Have actions raised on the project been closed or in the process of being rectified?</apex:outputText> </td></tr></table>          
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverActionsRaised__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainActionsRaised__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainActionsRaised__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>
<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverCriticalProjectPaperwork__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">10. Is critical project paperwork on file and clearly identified?</apex:outputText>  
</td></tr></table>         
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverCriticalProjectPaperwork__c == 'No'}" >
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainProjectPaperwork__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainProjectPaperwork__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverSignedCopies__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">11. Are signed copies of deliverables on file, with transmittals and evidence of verification and approvals?</apex:outputText>          
</td></tr></table> 
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverSignedCopies__c == 'No'}">
    Please Explain:<br/><apex:inputField value="{!changeManager.ExplainHandoverSignedCopies__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.ExplainHandoverSignedCopies__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
    <apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverRelevantProjectFiles__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
        <apex:selectOptions value="{!YesNoOptions}"/>
        <apex:actionSupport event="onchange" rerender="pbstest"/>
    </apex:selectRadio>
</td><td>
    <br/><apex:outputText style="font-weight: bold;">12. Has access to relevant project files (electronic and hardcopy) for project staff been confirmed?</apex:outputText>          
</td></tr></table> 
    </apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverRelevantProjectFiles__c == 'No'}">
    Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainRelevantProjectFiles__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainRelevantProjectFiles__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>

<apex:outputPanel >
<table><tr><td>
<apex:selectRadio layout="lineDirection" value="{!changeManager.HandoverCommReporting__c}" readonly="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}">
    <apex:selectOptions value="{!YesNoOptions}"/>
    <apex:actionSupport event="onchange" rerender="pbstest"/>
</apex:selectRadio>
</td><td>
<br/><apex:outputText style="font-weight: bold;">13. Is communication and reporting process with the client healthy?</apex:outputText>           
</td></tr></table> 
</apex:outputPanel>
<apex:outputPanel rendered="{!changeManager.HandoverCommReporting__c == 'No'}">
Please Explain:<br/><apex:inputField value="{!changeManager.HandoverExplainCommReporting__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/><apex:outputField value="{!changeManager.HandoverExplainCommReporting__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>
<apex:outputPanel >
    <apex:outputText style="font-weight: bold;">14. What is going well with the project?</apex:outputText><br/>
    <apex:inputField value="{!changeManager.HandoverGoingWell__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
    <apex:outputField value="{!changeManager.HandoverGoingWell__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>
<apex:outputPanel >
    <apex:outputText style="font-weight: bold;">15. What is not going well with the project?</apex:outputText><br/>
    <apex:inputField value="{!changeManager.HandoverNotGoingWell__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
    <apex:outputField value="{!changeManager.HandoverNotGoingWell__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>
<apex:outputPanel >
    <apex:outputText style="font-weight: bold;">16. State current financial status of project, including any outstanding invoices.</apex:outputText><br/>
    <apex:inputField value="{!changeManager.HandoverCurrentFinancialStatus__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
    <apex:outputField value="{!changeManager.HandoverCurrentFinancialStatus__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
</apex:outputPanel>
</apex:pageBlockSection>
<apex:pageBlockSection title="Handover Outcomes">
    <apex:outputPanel >
        <apex:outputText style="font-weight: bold;">List all issues and outcomes from handover process</apex:outputText><br/>
        <apex:inputField value="{!changeManager.HandoverOutcomes__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c != 'Approved' && changeManager.ApprovalStatus__c != 'Submitted'}"/>
        <apex:outputField value="{!changeManager.HandoverOutcomes__c}" style="width: 825px; height: 40px" rendered="{!changeManager.ApprovalStatus__c == 'Approved' || changeManager.ApprovalStatus__c == 'Submitted'}"/>
    </apex:outputPanel>
</apex:pageBlockSection>
</apex:pageBlock>
</apex:outputPanel>
</apex:form>
<apex:relatedList list="ProcessSteps" id="approval" rendered="{!OR(projectSynchMessages == '', changeManager.ApprovalStatus__c != null)}"></apex:relatedList>
<!--<apex:relatedList list="ProcessSteps"  id="approval" />-->
<apex:relatedList list="CombinedAttachments" rendered="{!changeManager.RecordType.Name == 'PM Handover'}"/>
<apex:relatedList list="Project_Snapshots__r" rendered="{!changeManager.RecordType.Name == 'PM Handover'}"/>

</apex:page>